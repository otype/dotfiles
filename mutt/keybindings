# KEYBINDINGS
#
#

# Editor key bindings
bind    editor        <Tab>    complete-query
bind    editor        ^T       complete
bind    editor        <space>  noop

bind    generic       x        tag-entry                                                                            #Select Conversation

# Pager Key Bindings
bind    pager         gg       top
bind    pager         G        bottom
bind    pager         j        next-entry
bind    pager         k        previous-entry
bind    pager         x        tag-message                                                                          #Select Conversation
bind    pager         <Down>   next-line
bind    pager         <Up>     previous-line

# View attachments properly.
bind    attach        <return> view-mailcap

# Index Key Bindings
bind    index         Q        quit
bind    index         gg       first-entry
bind    index         G        last-entry
bind    index         x        tag-thread                                                                           #Select Conversation
bind    index         <tab>    sync-mailbox
bind    index         <space>  collapse-thread

# general bindings
bind    index,pager   c        mail                                                                                 #Compose
bind    index,pager   l        copy-message                                                                         #Label
bind    index,pager   m        save-message                                                                         #Move to
bind    index,pager   N        search-opposite
bind    index,pager   R        group-reply                                                                          #Reply all
bind    index,pager   *        flag-message                                                                         #Star a message
bind    index,pager   \#       delete-thread                                                                        #Delete

# MACROS
#
#

# Open Urls
macro   pager         \Cu      "|urlview<enter>" "call urlview to open links"

# Sync email
macro   index         O        '<shell-escape>imapfilter -v && offlineimap<enter>'           "run offlineimap to sync all mail"
macro   index         o        '<shell-escape>offlineimap -qf INBOX<enter>' "run offlineimap to sync inbox"

# Ctrl-R to mark all as read, I = mark as read, U = mark as unread
macro   index         \Cr      'T~U<enter><tag-prefix><clear-flag>N<untag-pattern>.<enter>' "mark all messages as read"
macro   index,pager   I        '<set-flag>O'                                                "mark as read"
macro   index,pager   U        '<clear-flag>O'                                              "mark as unread"

# Change to mailbox
macro   index,pager   gi       '<change-folder>=INBOX<enter>'                          "Go to inbox"
macro   index,pager   ga       '<change-folder>=archive<enter>'                        "Go to 'archive'"
macro   index,pager   gf       '<change-folder>=flagged<enter>'                        "Go to 'flagged'"
macro   index,pager   gd       '<change-folder>=drafts<enter>'                         "Go to 'drafts'"
macro   index,pager   gs       '<change-folder>=sent<enter>'                           "Go to 'sent'"
macro   index,pager   gt       '<change-folder>=trash<enter>'                          "Go to 'trash'"
macro   index,pager   gp       '<change-folder>=spam<enter>'                           "Go to 'spam'"
macro   index,pager   gl       '<change-folder>?'                                      "Go to 'Label'"

# Gmail actions
macro   index,pager   a        '<save-message>=archive<enter><enter><sync-mailbox>'    "archive to archive"
macro   index,pager   d        '<save-message>=trash<enter><enter><sync-mailbox>'      "move to trash"
macro   index,pager   !        '<save-message>=spam<enter><enter><sync-mailbox>'       "mark as spam"
macro   index,pager   *        '<save-message>=flagged<enter><enter><sync-mailbox>'    "mark as flagged"
macro   index,pager   +        '<save-message>=important<enter><enter><sync-mailbox>'  "mark as important"
